So far I've made it work for data transfer over Wifi Direct from one Android to another. Working on writing some shell scripts to allow handshaking between the Android and a PC running Ubuntu.

UPDATE: the app works both between two Android devices and between a Linux PC (tested on Ubuntu) and and Android. To use between two Androids, open the app on both devices, hit "Discover Peers" on both, and then simultaneously click on the pair device on both screens to initiate the connection. For PC, first run the connect.sh script to open up a p2p server and assign it an IP. Right now I'm running it so that the Android device is forced to become the host (go_intent = 0), but you can easily change that by running p2p_connect with go_intent = 15. After you run connect.sh, you should be able to open up a client socket and connect to the host using C, Java, etc. (my example is in TimeServer.java).
